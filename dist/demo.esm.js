import{jsx as e}from"react/jsx-runtime";import t,{createElement as n,useState as o,useEffect as r,useRef as l}from"react";import"react-dom";import i from"htm";import a,{css as s,createGlobalStyle as d}from"styled-components";import"@styled-icons/evil";import{ArrowDropRight as c}from"@styled-icons/remix-fill/ArrowDropRight";import"hotkeys-js";import p from"react-cool-onclickoutside";import{ChevronUpDown as u}from"@styled-icons/fluentui-system-filled/ChevronUpDown";import{SaveAs as m}from"@styled-icons/heroicons-solid/SaveAs";import{ArrowMinimize as f,Maximize as h,Dismiss as g,ArrowAutofitUp as y,ArrowCurveUpLeft as x,ArrowUp as v,ArrowDown as b,PositionToFront as w,PanelLeft as E,SelectObject as S,PanelBottom as C,MultiselectLtr as z,CopySelect as D,SelectAllOn as k,ArrowSquareDown as _,AddSquare as A,TextBold as I,TextItalic as T,TextUnderline as M,ImageAdd as U,ImageAltText as B}from"@styled-icons/fluentui-system-filled";import{CSS as j}from"@dnd-kit/utilities";import{useSensors as N,useSensor as R,PointerSensor as O,KeyboardSensor as F,DndContext as P,closestCenter as G,useDraggable as L,useDndMonitor as W}from"@dnd-kit/core";import{useSortable as H,sortableKeyboardCoordinates as K,SortableContext as q,horizontalListSortingStrategy as Y,arrayMove as X}from"@dnd-kit/sortable";import{restrictToHorizontalAxis as $}from"@dnd-kit/modifiers";function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},J.apply(this,arguments)}i.bind(n),s(["background:linear-gradient(44.8deg,hsl(13deg 100% 97%) -53.1%,hsl(43deg 100% 95%) 49%);"]),s([" background-image:linear-gradient(43deg,#4158D0 0%,#C850C0 46%,#FFCC70 100%);"]),s(["filter:hue-rotate(144deg)"]);const Q=d(["html,body{overscroll-behavior-y:none;position:fixed;overflow:hidden;width:100vw;height:100vh;}"]),V=a.div.withConfig({displayName:"demo__ControlBox",componentId:"sc-zxujzv-0"})(["background-color:#eae7e3;width:65vw;height:55vh;margin:0 auto;padding:5px;"]),Z="rgb(255 246 219)",ee=a.button.withConfig({displayName:"demo__StyledButton",componentId:"sc-zxujzv-1"})(["border:none;padding:0;font:inherit;cursor:pointer;outline:inherit;border:1px solid rgba(243,223,207,1);border:1px solid rgb(255 255 255);outline:1px solid ",";background:linear-gradient(to top,"," 0%,rgba(255,255,255,1) 28%);border-radius:5px;transition:all 0.1s;padding:3px;font-size:12px;min-width:25px;min-height:20px;padding:3px 13px;font-size:11px;border:1px solid rgb(0 0 0);outline:rgb(0 0 0) solid 1px;background:linear-gradient(to top,rgb(51 19 0) 80%,rgb(255,255,255) 20%);color:white;font-family:system-ui;padding:1px 13px;font-size:11px;&:active{background:linear-gradient(to bottom,rgb(34 34 34) 83%,rgb(255,255,255) 14%);outline:rgb(0,0,0) solid 1px;border:rgb(104 104 104) solid 1px;}"],Z,Z),te=({direction:e})=>({horizontal:"row",vertical:"column"}[e]??"row"),ne=a.div.withConfig({displayName:"demo__StyledDopDownMenu",componentId:"sc-zxujzv-2"})(["display:flex;flex-direction :",";gap :3px;"],te),oe=({children:e,direction:n})=>{const[l,i]=o({visibility:"hidden"}),[a,s]=o(null),d=t.cloneElement(e[0],{ref:t=>{e[0].props.ref?.(t),s(t)}},e[0].props.children),c=e[1]?t.cloneElement(e[1],{...l,...e[1].props},e[1].props.children):null;return r((()=>{if(!a)return;const{top:e,bottom:t,height:o,left:r,right:l,width:s}=a.getBoundingClientRect();"horizontal"===n?i({visibility:"visible",top:t,left:r}):"vertical"===n&&i({visibility:"visible",top:e,left:l,bottom:null})}),[a,e]),[d,c]},re=a.div.withConfig({displayName:"demo__StyledDopDownMenuPanel",componentId:"sc-zxujzv-3"})(["display:flex;flex-direction :",";gap :3px;background-color:white;z-index:1;",";top:","px;left:","px;bottom:","px;visibility:",";",";"],te,(({top:e,left:t})=>null===t?"":"position:fixed"),(({top:e})=>e),(({left:e})=>e),(({bottom:e})=>e),(({visibility:e})=>e),(({isTopLevel:e})=>e?"\n    background-color: #eae7e3;\n  ":"\n    background-color: white;\n    font-weight:bold;\n    justify-content: space-between;\n  ")),le=t.forwardRef((({children:e,direction:n="vertical",isTopLevel:i=!0,multiOpen:a=!1,focusFromUpper:s=!1,allTopChildren:d=[],subSetmouseIsOn:c=!1,top:u=null,left:m=null,bottom:f=null,UppercloseAll:h=null,UpperRef:g=null},y)=>{const[x,v]=o(c),[b,w]=o([]),[E,S]=o([]),C=l(null),z=l(null),[D,k]=o(i||s),_=()=>{w([]),h?.()};r((function(){i&&b.length&&C.current.focus()}),[i,!!b.length]),i&&p((()=>{w([])}),{disabled:!b.length,refs:[C]});const A=(e,t,n)=>{e.preventDefault(),e.stopPropagation(),b.includes(n)&&!x?w([]):w([n]),v(!0)},I=(e,t,n)=>{e.stopPropagation(),e.preventDefault();const{props:{children:o}}=t;o?w([n]):_(),v(!1),t.props.onAction?.()};const T=(e,t)=>e.length-1===t?0:t+1,M=(e,t)=>0===t?e.length-1:t-1,U=(B=e,t.Children.toArray(B).map(((o,r)=>{const l=t.cloneElement(o,{onMouseDown:i?e=>A(e,0,r):null,onTouchStart:i&&!("ontouchstart"in window)?e=>A(e,0,r):null,onMouseUp:i?()=>v(!1):e=>I(e,o,r),onMouseOver:i&&!b.length?null:e=>function(e,t,n){e.stopPropagation(),e.preventDefault(),w([n])}(e,0,r),onTouchMove:e=>(e=>{e.stopPropagation(),e.preventDefault();const{touches:t,touches:[{clientX:n,clientY:o}={}]=[]}=e;(b.length||x)&&t&&document.elementFromPoint(n,o).dispatchEvent(new Event("mouseover",{bubbles:!0}))})(e),onTouchEnd:e=>(e=>{const{target:t,touches:n,changedTouches:[{clientX:o,clientY:r}={}]=[]}=e;e.preventDefault();const l=document.elementFromPoint(o,r);n&&l!==t&&l.dispatchEvent(new Event("mouseup",{bubbles:!0}))})(e),isTopLevel:i,isOpen:b.includes(r),hasSubMenu:!!o.props?.children?.length,...o.props},o.props.children),a=o.props.children&&b.includes(r)?t.createElement(le,{direction:"vertical",isTopLevel:!1,focusFromUpper:1===b.length&&!D,subSetmouseIsOn:v,ref:z,UpperRef:C,UppercloseAll:_,UpperSetHasFocus:k},o.props.children):null,s=o.props.children?.props?.isExtension,c=s&&o.props.children&&b.includes(r)?t.cloneElement(o.props.children,{direction:"vertical",isTopLevel:!1,focusFromUpper:1===b.length&&!D,subSetmouseIsOn:v,ref:z,allTopChildren:i?e:d,UpperRef:C,UppercloseAll:_,UpperSetHasFocus:k},o.props.children.props.children):null;return t.createElement(oe,{direction:n},l,o.props.children&&b.includes(r)?c||a:null)})));var B;return t.createElement(re,{direction:n,ref:e=>{C.current=e,"function"==typeof y?y(e):y&&(y.current=e)},isTopLevel:i,visibility:i,top:u,left:m,bottom:f,onKeyDown:t=>{if(console.log("childrenchildren",e.length),t.stopPropagation(),"horizontal"===n&&("ArrowLeft"===t.key&&w([M(e,b[0])]),"ArrowRight"===t.key&&w([T(e,b[0])]),"ArrowDown"===t.key&&(z.current.focus(),C.current.blur())),"vertical"===n){if("ArrowUp"===t.key&&w([M(e,b[0])]),"ArrowDown"===t.key&&w([T(e,b[0])]),"ArrowRight"===t.key){!!e[b[0]].props.children?(C.current.blur(),z.current.focus()):!i&&g.current.focus()}"ArrowLeft"===t.key&&!i&&g.current.focus()}"Enter"===t.key&&I(t,e[b[0]],b[0])},onFocus:e=>{e.stopPropagation(),!b.length&&w([0])},tabIndex:"0"},U)})),ie=a.div.withConfig({displayName:"demo__StyledMenuItem",componentId:"sc-zxujzv-4"})(["font-size:13px;font-family:'-apple-system';display:flex;user-select:none;-webkit-user-select:none;max-height:20px;position:relative;white-space:nowrap;background-color:inherit;filter:",";"],(({isOpen:e})=>e?"invert(1)":null)),ae=t.forwardRef((({name:e,hasSubMenu:n,isTopLevel:o,shortCut:r,...l},i)=>t.createElement(ie,J({ref:i},l),e,r?t.createElement("span",null,r.replaceAll("+"," ")):null,!o&&n?t.createElement(c,{size:"12"}):null))),se=t.forwardRef((({allTopChildren:e=[],...n},r)=>{const[l,i]=o(""),a=Array.from(e).map((function e(t,n,o,r=[]){const{props:{children:l}}=t;return[l?Array.from(l).map(((t,l)=>e(t,l,o,[...r,n]))):[{Item:t,path:[...r,n]}]]})).flat(1/0).filter((({Item:{props:{name:e}}})=>e.toUpperCase().includes(l.toUpperCase()))).map((({Item:e})=>e));return a.unshift(t.createElement("input",{style:{width:"96%",minWidth:"100px",margin:"0 auto",borderRadius:"5px"},onmousedown:e=>e,onMouseUp:e=>e,onTouchEnd:e=>e,NoOnKeyDown:e=>e.stopPropagation(),onChange:({target:e})=>i(e.value),value:l,type:"text",autofocus:!0})),t.createElement(le,J({},n,{ref:r}),a)})),de=a.div.withConfig({displayName:"demo__StyledCenteredSelect",componentId:"sc-zxujzv-5"})(["display:inline-block;position:relative;border:1px solid gray;background-color:white;padding-left:1%;user-select:none;"]),ce=a.div.withConfig({displayName:"demo__StyledListSelect",componentId:"sc-zxujzv-6"})(["display:inline-block;position:absolute;left:0;right:0;margin-left:auto;margin-right:auto;background-color:white;visibility:",";top:","px;text-align:center;min-width:","px;width:calc(100% + 1px);*{padding:0;user-select:none;padding-right:16%;}*:hover{filter:invert(1);background-color:inherit;}"],(({visibility:e})=>e?"visible":"hidden"),(({top:e=0})=>e),(({minWidth:e})=>e)),pe=a(u).withConfig({displayName:"demo__StyledChevronUpDown",componentId:"sc-zxujzv-7"})(["width:12px;height:17px;margin-left:5px;vertical-align:-1px !important;border-radius:0px;padding:0 1px;border-left:1px solid #80808078;vertical-align:-3px !important;"]);function ue({children:e,className:n}){const r=l(null),[i,a]=o(null),[s,d]=o(null),[c,u]=o(!1),m=e?.filter((e=>!!e.props.selected))[0]??e[0],[f,h]=o(m);p((()=>{u(!1)}),{disabled:!c,refs:[r]});const g=(e,t)=>{e.stopPropagation(),h(t),u(!1)},y=c&&!!s?.getBoundingClientRect().height&&!!i?.getBoundingClientRect().height,x=i?.getBoundingClientRect().y-s?.getBoundingClientRect().y;return t.createElement(de,{tabIndex:"0",onKeyDown:t=>{if(console.log("select key",t.code),"Escape"===t.code)return u(!1);if("Enter"===t.code)return u(!1);if("ArrowUp"===t.code){e?.indexOf(m);return u(!1)}return"ArrowDown"===t.code?u(!1):void 0},onMouseUp:e=>(e.stopPropagation(),!1),onTouchStart:()=>u(!c),onMouseDown:e=>{e.target.focus(),u(!c)},ref:r,className:n},f.props.children,t.createElement(pe,null),c?t.createElement(ce,{ref:e=>(d(e),e),minWidth:r.current?.getBoundingClientRect().width,visibility:y,top:-x},e.map((n=>t.cloneElement(n,{ref:n===f?t=>{e[0].props.ref?.(t),a(t)}:null,onClick:e=>g(e,n),onMouseDown:e=>g(e,n),onTouchStart:e=>g(e,n),onMouseUp:n!==f?e=>g(e,n):null,selected:n===f,...n.props},n.props.children)))):null)}const me=a.div.withConfig({displayName:"demo__StyledWindowDecoration",componentId:"sc-zxujzv-8"})(["display:flex;width:100%;background:black;background:linear-gradient(to bottom,#595959 1%,#727272 3%,#474747 6%,#474747 12%,#111111 49%,#000000 92%,#000000 100%);color:white;","{background:transparent;width:max-content;border:none;}","{color:black;width:fit-content;visibility:visible;}"],de,ce),fe=a.div.withConfig({displayName:"demo__StyledWindowDecorationLeft",componentId:"sc-zxujzv-9"})([""]),he=a.div.withConfig({displayName:"demo__StyledWindowDecorationCenter",componentId:"sc-zxujzv-10"})(["margin-left:auto;"]),ge=a.div.withConfig({displayName:"demo__StyledWindowDecorationRight",componentId:"sc-zxujzv-11"})(["margin-left:auto;svg{width:16px;padding:4px;}svg  path{filter:url(#inset-shadow);stroke-width:2px;}svg:hover{filter:brightness(3);cursor:pointer;}"]),ye=a(f).withConfig({displayName:"demo__StyledBlueMinimize",componentId:"sc-zxujzv-12"})(["stroke:url(#rgrad);"]),xe=a(h).withConfig({displayName:"demo__StyledBlueMaximize",componentId:"sc-zxujzv-13"})(["stroke:url(#rgrad);"]),ve=a(g).withConfig({displayName:"demo__StyledRedClose",componentId:"sc-zxujzv-14"})(["stroke:url(#lgrad);path{stroke-width:9px !important;}"]),be=({title:e,onClose:n,onMinimize:o,onMaximize:r,onExpand:l,representedFilename:i,documentEdited:a})=>t.createElement(me,null,t.createElement(fe,null),t.createElement(he,null,i?.length?null:e,i?.length?t.createElement(ue,null,i.map(((e,n)=>t.createElement("div",{value:e,selected:!!n},e)))):null),t.createElement(ge,null,t.createElement(ye,null),t.createElement(xe,null),t.createElement(ve,null))),we=a.div.withConfig({displayName:"demo__StyledNoiseBackGround",componentId:"sc-zxujzv-15"})(["background:black;"]);function Ee(t){const{attributes:n,listeners:o,setNodeRef:r,transform:l,transition:i}=H({id:t.id}),a={transform:j.Transform.toString(l),transition:i};return e("div",{ref:r,style:a,...n,...o,children:t.children})}const Se=a.div.withConfig({displayName:"demo__StyledToolBarContainer",componentId:"sc-zxujzv-16"})(["display:flex;justify-content:center;width:100%;padding:1px 0;border-radius:5px;border-top:none;"]),Ce=()=>t.createElement("div",{dangerouslySetInnerHTML:{__html:'\n<svg xmlns="http://www.w3.org/2000/svg" width="0" height="0" style="visibility: hidden;">\n  <defs>\n    <radialGradient id="rgrad" cx="50%" cy="50%" r="50%">\n      <stop offset="0%" style="stop-color:rgb(0,72,255);stop-opacity:1.00"></stop>\n      <stop offset="100%" style="stop-color:rgb(0,255,235);stop-opacity:1.00"></stop>\n    </radialGradient>\n    <linearGradient id="lgrad" x1="0%" y1="50%" x2="100%" y2="50%">\n      <stop offset="0%" style="stop-color:rgb(244,0,255);stop-opacity:1.00"></stop>\n      <stop offset="100%" style="stop-color:rgb(255,0,0);stop-opacity:1.00"></stop>\n    </linearGradient>\n    <filter id="chalk" height="2" width="1.6" color-interpolation-filters="sRGB" y="-0.5" x="-0.3">\n      <feTurbulence baseFrequency="50" seed="115" result="result1" numOctaves="1" type="turbulence"/>\n      <feOffset result="result2" dx="-5" dy="-5"/>\n      <feDisplacementMap scale="1.5" yChannelSelector="G" in2="result1" xChannelSelector="R" in="SourceGraphic"/>\n      <feGaussianBlur stdDeviation="0.1"/>\n    </filter>\n    <filter id="inset-shadow">\n      \x3c!-- Shadow offset --\x3e\n      <feOffset dx="3" dy="3"></feOffset>\n      \x3c!-- Shadow blur --\x3e\n    <feGaussianBlur stdDeviation="4" result="offset-blur"></feGaussianBlur>\n      \x3c!-- Invert drop shadow to make an inset shadow--\x3e\n      <feComposite operator="out" in="SourceGraphic" in2="offset-blur" result="inverse"></feComposite>\n      \x3c!-- Cut colour inside shadow --\x3e\n      <feFlood flood-color="black" flood-opacity="0.9" result="color" style=""></feFlood>\n      <feComposite operator="in" in="color" in2="inverse" result="shadow"></feComposite>\n      \x3c!-- Placing shadow over element --\x3e\n      <feComposite operator="over" in="shadow" in2="SourceGraphic"></feComposite> \n    </filter>\n    <filter id="mauve-border" x="-20%" y="-20%" width="140%" height="140%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="linearRGB">\n      <feMorphology operator="dilate" radius="2 2" in="SourceAlpha" result="morphology"></feMorphology>\n      <feFlood flood-color="#476dff" flood-opacity="1" result="flood"></feFlood>\n      <feComposite in="flood" in2="morphology" operator="in" result="composite"></feComposite>\n      <feComposite in="composite" in2="SourceAlpha" operator="out" result="composite1"></feComposite>\n    </filter>\n  </defs>\n  <rect x="0" y="0" width="100%" height="100%" fill="url(#lgrad)"></rect>\n</svg>\n'}}),ze=a.div.withConfig({displayName:"demo__StyledChalkFilter",componentId:"sc-zxujzv-17"})(["display:flex;justify-content:center;width:100%;* > svg{width:19px;}* > svg > path{filter:url(#inset-shadow);fill:#eae7e3;fill:url(#rgrad);}svg:hover{cursor:pointer;}svg:hover > path{filter:brightness(1.9);transform:translateY(3px);}"]),De=a(ze).withConfig({displayName:"demo__StyledToolBarGroup",componentId:"sc-zxujzv-18"})(["width:fit-content;border:2px solid #858585;border-radius:7px;margin-right:53px;"]);function ke({children:t}){const[n,r]=o(t.map(((e,t)=>({...e,id:`id_${t}`})))),l=N(R(O),R(F,{coordinateGetter:K}));return e(P,{sensors:l,collisionDetection:G,onDragEnd:function(e){const{active:t,over:n}=e;console.log(e),t.id!==n.id&&(console.log("if"),r((e=>{const o=e.map((e=>e.id)).indexOf(t.id),r=e.map((e=>e.id)).indexOf(n.id);return console.log({oldIndex:o,newIndex:r}),X(e,o,r)})))},modifiers:[$],children:e(Se,{children:e(ze,{children:e(q,{Noitems:n,items:n.map((e=>e.id)),strategy:Y,children:n.map(((t,n)=>e(Ee,{id:t.id,children:t},t.id)))})})})})}function _e({width:t,height:n,x:o,y:r}){const{setNodeRef:l,listeners:i,transform:a}=L({id:1});return W({onDragEnd:e=>console.log("drag end",e)}),console.log(a),e("div",{ref:l,style:{width:t,minHeight:n,position:"absolute",transform:j.Transform.toString(a)},...i,children:e(be,{title:"Drag around",NorepresentedFilename:["file.example","Folder","Documents"]})})}const Ae=()=>t.createElement(t.Fragment,null,t.createElement(Q,null),t.createElement(V,null,t.createElement("p",null,"Hello World!___"),t.createElement(ee,null,"Click me!"),t.createElement("br",null),t.createElement("br",null),t.createElement("br",null),t.createElement(le,{direction:"horizontal",multipleOpen:!1,zIndex:1},t.createElement(ae,{name:t.createElement("span",null," File")},t.createElement(ae,{name:"Open"}),t.createElement(ae,{name:"New"})),t.createElement(ae,{name:"Edit"},t.createElement(ae,{name:"Undo",onAction:e=>console.log("shortcut_",e),shortCut:"ctrl+z"}),t.createElement(ae,{name:"Redo"}),t.createElement(ae,{name:"Copy"}),t.createElement(ae,{name:"Past"}),t.createElement(ae,{name:"Truc",shortCut:"ctrl+truc"}),t.createElement(ae,{name:"Sub menu",ref:e=>console.log("1st node",e)},t.createElement(ae,{name:"Sub item A"},t.createElement(ae,{name:"Copy",onAction:()=>console.log("sub copy")}),t.createElement(ae,{name:"Past"}),t.createElement(ae,{name:"mais encore"},t.createElement(ae,{name:"Past"}),t.createElement(ae,{name:"Copy"}))),t.createElement(ae,{name:"Sub item B"})),t.createElement(ae,{name:"Sub Next"},t.createElement(ae,{name:"TRUC",onAction:()=>alert("Truc")}),t.createElement(ae,{name:"OPOPO"}))),t.createElement(ae,{name:"Show"},t.createElement(ae,{name:"By List"}),t.createElement(ae,{name:"By Grid"})),t.createElement(ae,{name:"help"},t.createElement(se,{isExtension:!0}))),t.createElement("br",null),t.createElement("br",null),t.createElement(ue,null,t.createElement("div",{value:"ex 1"},"ex1"),t.createElement("div",{value:"ex 2"},"ex2"),t.createElement("div",{value:"ex 3",selected:!0},"ex3"),t.createElement("div",{value:"ex 4"},"ex4"),t.createElement("div",{value:"ex 5"},"ex5"),t.createElement("div",{value:"ex 6"},"ex6")),t.createElement("br",null),t.createElement("br",null),t.createElement(be,{title:"App example",representedFilename:["file.example","Folder","Documents"]}),t.createElement(we,null,t.createElement(ke,null,t.createElement(Ce,null),t.createElement(De,null,t.createElement(y,null),t.createElement(x,null),t.createElement(v,null),t.createElement(b,null),t.createElement(w,null)),t.createElement(E,null),t.createElement(S,null),t.createElement(m,null),t.createElement(C,null),t.createElement(z,null),t.createElement(D,null),t.createElement(k,null),t.createElement(_,null),t.createElement(A,null),t.createElement(I,null),t.createElement(T,null),t.createElement(M,null),t.createElement(U,null),t.createElement(B,null),t.createElement(ue,null,t.createElement("div",{value:"ex 1"},"font 1"),t.createElement("div",{value:"ex 4"},"ex4")))),t.createElement(P,null,t.createElement(_e,{height:"200px",width:"200px"}))));export{ee as StyledButton,te as directionToFlex,ne as StyledDopDownMenu,oe as FloatTo,re as StyledDopDownMenuPanel,le as DropDownMenu,ie as StyledMenuItem,ae as MenuItem,se as SearchMenu,de as StyledCenteredSelect,ce as StyledListSelect,pe as StyledChevronUpDown,ue as CenteredSelect,me as StyledWindowDecoration,fe as StyledWindowDecorationLeft,he as StyledWindowDecorationCenter,ge as StyledWindowDecorationRight,ye as StyledBlueMinimize,xe as StyledBlueMaximize,ve as StyledRedClose,be as WindowDecoration,we as StyledNoiseBackGround,Se as StyledToolBarContainer,De as StyledToolBarGroup,Ae as Demo};
//# sourceMappingURL=demo.esm.js.map
