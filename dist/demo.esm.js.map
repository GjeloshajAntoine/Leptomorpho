{"mappings":"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","sources":["docs/demo.js"],"sourcesContent":["import React, { createElement, useEffect, useMemo, useRef, useState } from \"react\";\nimport { render } from \"react-dom\";\nimport htm from \"htm\";\nimport styled, { createGlobalStyle, css } from \"styled-components\";\n\nimport { ShareApple } from \"@styled-icons/evil\";\nimport { ArrowDropRight } from \"@styled-icons/remix-fill/ArrowDropRight\";\nimport hotkeys from 'hotkeys-js';\nimport useOnclickOutside from 'react-cool-onclickoutside';\n\nimport { ChevronUpDown } from \"@styled-icons/fluentui-system-filled/ChevronUpDown\";\nimport { SaveAs } from \"@styled-icons/heroicons-solid/SaveAs\";\nimport * as FSF from \"@styled-icons/fluentui-system-filled\";\n\nimport {CSS as dndCSS} from '@dnd-kit/utilities';\nimport {\n  DndContext, \n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n  useDraggable,\n  useDndMonitor,\n} from '@dnd-kit/core';\nimport {\n  arrayMove,\n  useSortable,\n  SortableContext,\n  sortableKeyboardCoordinates,\n  horizontalListSortingStrategy,\n} from '@dnd-kit/sortable';\n\nimport {restrictToHorizontalAxis} from '@dnd-kit/modifiers';\n\n// const html = htm.bind((type,props,...children)=>{/*console.log(type);*/return createElement(type,props,...children)});\nconst html = htm.bind(createElement);\n\nconst clearWarmBeige = css`background: linear-gradient(44.8deg, hsl(13deg 100% 97%) -53.1%, hsl(43deg 100% 95%) 49%);`\nconst NeonPinkGradient = css` background-image: linear-gradient(43deg, #4158D0 0%, #C850C0 46%, #FFCC70 100%);` \nconst HighlightNeonPinkGradient = css`filter: hue-rotate(144deg)`;\n\nconst TheHTML = createGlobalStyle`\n  html,body {\n    overscroll-behavior-y: none;\n    position: fixed;\n    overflow: hidden;\n    width: 100vw;\n    height: 100vh;\n  }\n\n`;\n\nconst ControlBox = styled.div`\n  background-color: #eae7e3;\n  width: 65vw;\n  height: 55vh;\n  margin: 0 auto;\n  padding: 5px;\n`;\n\nconst buttonColor = 'rgb(255 246 219)';\n\nexport const StyledButton = styled.button`\n\tborder: none;\n\tpadding: 0;\n\tfont: inherit;\n\tcursor: pointer;\n\toutline: inherit;\n\n  border: 1px solid rgba(243,223,207,1);\n  border: 1px solid rgb(255 255 255);\n  outline: 1px solid ${buttonColor};\n  background: linear-gradient(to top, ${buttonColor} 0%,rgba(255,255,255,1) 28%);\n\n  border-radius: 5px;\n  transition: all 0.1s;\n  padding: 3px;\n  font-size: 12px;\n  min-width: 25px;\n  min-height: 20px; \n\n  padding: 3px 13px;\n    font-size: 11px;\n    border: 1px solid rgb(0 0 0);\n    outline: rgb(0 0 0) solid 1px;\n    background: linear-gradient(to top, rgb(51 19 0) 80%, rgb(255, 255, 255) 20%);\n    color: white;\n    font-family: system-ui;\n    padding: 1px 13px;\n    font-size: 11px;\n\n  /* background: linear-gradient(0deg, rgba(243,223,207,1) 0%, rgba(238,227,218,1) 12%, rgba(255,255,255,1) 100%); \n  filter: brightness(1.09) saturate(2); */\n  &:active {\n    /* filter: sepia(0.2); */\n    /* filter: none; */\n    /* background: linear-gradient(180deg, rgba(243,223,207,1) 0%, rgba(238,227,218,1) 12%, rgba(255,255,255,1) 100%); */\n    /* background: linear-gradient(to bottom, rgb(255 246 219) 0%,rgba(255,255,255,1) 28%); */\n    /* background: linear-gradient(to bottom, ${buttonColor} 95%, rgba(255,255,255,1) 0%); */\n    background: linear-gradient(to bottom, rgb(34 34 34) 83%, rgb(255, 255, 255) 14%);\n    outline: rgb(0, 0, 0) solid 1px;\n    border: rgb(104 104 104) solid 1px;\n  }\n`;\n\n\nexport const directionToFlex = ({ direction }) => ({ horizontal: 'row', vertical: 'column' }[direction] ?? 'row')\n\nexport const StyledDopDownMenu = styled.div`\n  display: flex;\n  flex-direction :${directionToFlex};\n  gap : 3px;\n\n`\n\nexport const FloatTo = ({children, direction}) => {\n  const [props, setProps] = useState({ visibility: 'hidden' })\n  const [ref, setRef] = useState(null)\n  const ClonedTo = React.cloneElement(children[0],{ref: (node => {children[0].props.ref?.(node);setRef(node)})},children[0].props.children)\n  const CloneFloating = children[1]? React.cloneElement(children[1],{...props,...children[1].props}, children[1].props.children) : null\n\n\n  useEffect(()=> {\n    if (!ref) return\n    const { top, bottom, height, left, right, width} = ref.getBoundingClientRect()\n\n    if (direction===\"horizontal\") {\n      setProps({visibility: 'visible',top:bottom, left,})\n    } else if (direction === \"vertical\") {\n      setProps({visibility: 'visible', top, left: right, bottom: null })\n\n    }\n    \n  },[ref,children])\n\n  return html`\n    ${ClonedTo}\n    ${CloneFloating}\n  `\n\n}\n\nexport const StyledDopDownMenuPanel = styled.div`\n  display: flex;\n  flex-direction :${directionToFlex};\n  gap : 3px;\n  background-color: white;\n  z-index: 1;\n  ${({top,left}) => left === null ? '' :'position:fixed' };\n  top:${({ top }) => top}px;\n  left:${({ left }) => left}px;\n  bottom:${({bottom})=>bottom}px;\n  visibility: ${({ visibility }) => visibility };\n  ${({isTopLevel})=>isTopLevel? `\n    background-color: #eae7e3;\n  `:`\n    background-color: white;\n    font-weight:bold;\n    justify-content: space-between;\n  `};\n`\n\nexport const DropDownMenu = React.forwardRef(({children, direction = 'vertical', isTopLevel=true,multiOpen = false, focusFromUpper= false,allTopChildren=[],subSetmouseIsOn= false, top= null,left=null,bottom=null,UppercloseAll=null,UpperRef=null },forRef) => { //Menu And Panel combined, nestable\n  const [ mouseIsOn, setmouseIsOn] = useState(subSetmouseIsOn);\n  const [openItem, setOpenItem] = useState([]); // Array because you can optionaly open many menu item of the same level : props.multiOpen\n  const [flashPath, setFlashPath] = useState([])\n  const dropDownRef = useRef(null)\n  const deepRef = useRef(null)\n  const [hasFocus, setHasFocus] = useState(isTopLevel || focusFromUpper)\n\n  const closeAll = ()=> {\n    setOpenItem([])\n    UppercloseAll?.()\n  }\n\n    useEffect(function InitFocusTopLevel(){\n    isTopLevel && !!openItem.length? dropDownRef.current.focus():null\n  },[isTopLevel,!!openItem.length])\n\n  if (isTopLevel) {\n    useOnclickOutside(() => {\n      setOpenItem([]) \n    },{disabled: !openItem.length ,refs:[dropDownRef]});\n  }\n\n\n  const onHeaderItemClick = (e, Item,idx) => {\n    e.preventDefault()\n    e.stopPropagation()\n\n    openItem.includes(idx) && !mouseIsOn ? setOpenItem([]) : setOpenItem([idx])\n    setmouseIsOn(true)\n  }\n\n  const onMouseUpItem = (e, Item, idx,) => {\n    e.stopPropagation();\n    e.preventDefault();\n    const { props: { children } } = Item\n\n    children ? setOpenItem([idx]) : closeAll()\n    setmouseIsOn(false)\n    Item.props.onAction?.();\n  }\n\n  function onMouseOver(e,c,idx) {\n    e.stopPropagation()\n    e.preventDefault()\n\n    setOpenItem([idx])\n  }\n\n  const onTouchMoveItem = (e) => {\n    e.stopPropagation()\n    e.preventDefault()\n    const { touches,touches:[{clientX,clientY}={}]=[] } = e;\n\n    if (!openItem .length && !mouseIsOn) return;\n    if (touches) {\n      const newTarget = document.elementFromPoint(clientX,clientY);\n      newTarget.dispatchEvent(new Event('mouseover',{bubbles: true,}))\n    }\n  }\n  \n  const onTouchEndItem = (e) => {\n    const { target, touches,changedTouches:[{clientX,clientY}={}]=[] } = e;\n    e.preventDefault();\n\n    const newTarget = document.elementFromPoint(clientX,clientY);\n    if (touches && newTarget !== target) {\n      newTarget.dispatchEvent(new Event('mouseup',{bubbles: true,}))\n    }\n  }\n\n\n\n  const nextIdx = (arr,idx) => arr.length -1 === idx ? 0 : idx +1\n  const prevIdx = (arr,idx) => idx === 0 ? arr.length -1 : idx - 1;\n\n  const onKeyDown = (e) => {\n    console.log('childrenchildren',children.length);\n    e.stopPropagation()\n      if (direction === \"horizontal\") {\n        if (e.key === \"ArrowLeft\" ) {\n          setOpenItem([prevIdx(children,openItem[0])])\n        }\n        if (e.key === \"ArrowRight\") {\n          setOpenItem([nextIdx(children,openItem[0])])\n        }\n        if (e.key === \"ArrowDown\") {\n          deepRef.current.focus()\n          dropDownRef.current.blur()\n        }\n      }\n      if (direction === \"vertical\") {\n        if (e.key === \"ArrowUp\" ) {\n          setOpenItem([prevIdx(children,openItem[0])])\n        }\n        if (e.key === \"ArrowDown\") {\n          setOpenItem([nextIdx(children,openItem[0])])\n        }\n        if (e.key === \"ArrowRight\") {\n          const itemHasChildren = !!children[openItem[0]].props.children\n          if (itemHasChildren) {\n            dropDownRef.current.blur()\n            deepRef.current.focus()\n          } else {\n            !isTopLevel? UpperRef.current.focus() : null\n          }\n        }\n        if (e.key  === \"ArrowLeft\") {\n          !isTopLevel? UpperRef.current.focus(): null;\n        }\n      }\n      if (e.key === \"Enter\") {\n        onMouseUpItem(e,children[openItem[0]],openItem[0])\n      }\n  }\n\n  const addCallbacktoChildren = (childs) => {\n    return React.Children.toArray(childs).map((c,idx)=> {\n      const ClonedItem =  React.cloneElement(c,{\n        onMouseDown :isTopLevel ? e => onHeaderItemClick(e,c,idx) : null,\n        onTouchStart: isTopLevel && !('ontouchstart' in window )? e => onHeaderItemClick(e,c,idx) : null,\n        onMouseUp: !isTopLevel ? e=> onMouseUpItem(e,c,idx) : ()=> setmouseIsOn(false),\n        onMouseOver: isTopLevel && !openItem.length?  null : e=> onMouseOver(e,c,idx),\n        onTouchMove: e => onTouchMoveItem(e,c,idx),\n        onTouchEnd: e => onTouchEndItem(e,c),\n        isTopLevel,\n        isOpen: openItem.includes(idx),\n        hasSubMenu : !!c.props?.children?.length, \n        ...c.props, \n      },c.props.children);\n\n      const DropDownMenuHtml = !!c.props.children && openItem.includes(idx) ?\n      html`<${DropDownMenu} \n                 direction=\"vertical\" \n                 isTopLevel=${false} \n                 focusFromUpper=${openItem.length === 1 && !hasFocus} \n                 subSetmouseIsOn=${setmouseIsOn} \n                 ref=${deepRef}\n                 UpperRef=${dropDownRef}\n                 UppercloseAll=${closeAll} \n                 UpperSetHasFocus=${setHasFocus}>\n             ${c.props.children} \n           </${DropDownMenu}>`\n      : null;\n      //  <!--x,y position <will be filled by floatTo component upon cloning -->\n      const customDropDownMenu = c.props.children?.props?.isExtension\n      const ExtendDropDown = !!customDropDownMenu && !!c.props.children && openItem.includes(idx) ? React.cloneElement(c.props.children,{\n        direction:\"vertical\", \n        isTopLevel:false ,\n        focusFromUpper:openItem.length === 1 && !hasFocus,\n        subSetmouseIsOn:setmouseIsOn, \n        ref:deepRef,\n        allTopChildren:isTopLevel ? children : allTopChildren,\n        UpperRef:dropDownRef,\n        UppercloseAll:closeAll, \n        UpperSetHasFocus:setHasFocus,\n\n      },c.props.children.props.children) : null\n\n      return html`\n        <${FloatTo} direction=${direction}>\n          ${ClonedItem}\n          ${!!c.props.children && openItem.includes(idx) ? ExtendDropDown ? ExtendDropDown : DropDownMenuHtml : null}\n        </${FloatTo}>\n     `\n\n    })\n  }\n\n  const ChildWithCallback = addCallbacktoChildren(children)\n\n  return html`\n    <${StyledDopDownMenuPanel} \n          direction=${direction} \n          ref=${(node) => {\n          dropDownRef.current = node;\n            if (typeof forRef === 'function') {\n              forRef(node);\n            } else if (forRef) {\n              forRef.current = node;\n            }\n          }}\n          isTopLevel=${isTopLevel} \n          visibility=${isTopLevel} \n          top=${top} \n          left=${left} \n          bottom=${bottom}\n          onKeyDown=${onKeyDown}\n          onFocus=${e=>{e.stopPropagation();!openItem.length? setOpenItem([0]):null}}\n          tabIndex=\"0\"\n          >\n      ${ChildWithCallback}\n    </${StyledDopDownMenuPanel}>\n  `\n\n})\n\n\n\nexport const StyledMenuItem = styled.div`\n  font-size: 13px;\n  font-family:'-apple-system';\n  display: flex;\n  user-select: none;\n  -webkit-user-select: none;\n  max-height:20px;\n  position: relative;\n  white-space: nowrap;\n  background-color: inherit;\n  filter: ${({isOpen})=> isOpen ? 'invert(1)': null};\n`\n\nexport const MenuItem = React.forwardRef(({name,hasSubMenu,isTopLevel,shortCut, ...props},reref)=>{\n\n  return html`\n    <${StyledMenuItem} ref=${reref} ...${props}>\n      ${name}\n      ${shortCut ? html`<span>${shortCut.replaceAll('+',' ')}</span>` :null}\n      ${!isTopLevel && hasSubMenu ? html`<${ArrowDropRight} size='12' />`:null}\n\n    </${StyledMenuItem}>\n  `\n\n})\n\n\nexport const SearchMenu = React.forwardRef(({allTopChildren = [], ...props},forwardedRef)=> {\n  const [searchTerm, setSearchTerm] = useState('')\n\n  const extractPropsChildrenAllLevel = Array.from(allTopChildren)\n  .map(function Fla(Item,idx,array,path=[]){\n    const {props:{children}} = Item\n    return [children ? Array.from(children).map((child,idx_)=>Fla(child,idx_,array,[...path,idx])): [{Item,path:[...path,idx]}]]}\n    )\n    .flat(Infinity)\n    .filter(({Item:{props:{name}}})=>name.toUpperCase().includes(searchTerm.toUpperCase()))\n    .map(({Item})=>Item)\n\n  extractPropsChildrenAllLevel.unshift(html`\n      <input style=${{width:'96%',minWidth:'100px',margin:'0 auto',borderRadius:'5px'}} onmousedown=${e=>e} onMouseUp=${e=>e} onTouchEnd=${e=>e} NoOnKeyDown=${e=>e.stopPropagation()} onChange=${({target})=>setSearchTerm(target.value)} value=${searchTerm} type=\"text\" autofocus/>\n    `)\n\n\n  return html`\n    <${DropDownMenu} ...${props} ref=${forwardedRef} >\n      ${extractPropsChildrenAllLevel}\n    </${DropDownMenu}>\n  `\n})\n\nexport const StyledCenteredSelect = styled.div`\n  display: inline-block;\n  position: relative;\n  border: 1px solid gray;\n  background-color:white;\n  padding-left: 1%;\n  user-select: none;\n`\n\nexport const StyledListSelect = styled.div`\n  display: inline-block;\n  position: absolute;\n  left: 0; \n  right: 0; \n  margin-left: auto; \n  margin-right: auto; \n  background-color: white;\n  visibility:${({visibility})=>visibility ? 'visible': 'hidden'};\n  top: ${({top=0})=> top}px;\n  text-align:center;\n  /* outline: 1px solid white; */\n  min-width: ${({minWidth})=>minWidth}px;\n  width: calc(100% + 1px);\n  * {\n    padding: 0;\n    user-select: none;\n    padding-right: 16%;\n  }\n  *:hover {\n    filter: invert(1);\n    background-color: inherit;\n  }\n`\nexport const StyledChevronUpDown = styled(ChevronUpDown)`\n  width: 12px;\n  height: 17px;\n  margin-left: 5px;\n  vertical-align: -1px !important;\n  border-radius: 0px;\n  padding: 0 1px;\n/*   background: linear-gradient(0deg, rgba(0,255,220,1) 0%, rgba(255,255,0,1) 100%);*/\n  border-left: 1px solid #80808078;\n  vertical-align: -3px !important;\n\n `\n\nexport function CenteredSelect({children, className}) {\n  const centeredSelectRef = useRef(null)\n  const [ref, setRef] = useState(null);\n  const [refList, setRefList] = useState(null);\n  const [isOpen, toggleIsOpen] = useState(false)\n  const selectedFromProps  = children?.filter(c=>!!c.props.selected)[0] ?? children[0]\n  const [selected, setSelected] = useState(selectedFromProps)\n\n\n  useOnclickOutside(() => {\n      toggleIsOpen(false)\n    },{disabled: !isOpen ,refs:[centeredSelectRef]});\n\n  const onSelect = (e, OptionComp) => {\n    e.stopPropagation()\n    setSelected(OptionComp)\n    toggleIsOpen(false)\n  }\n\n  const onKeyDown = (e) => {\n    console.log('select key',e.code)\n    if (e.code === 'Escape') {\n      return toggleIsOpen(false);\n    }\n    if (e.code === 'Enter') {\n      return toggleIsOpen(false);\n    }\n    if (e.code === 'ArrowUp') {\n      const CurrentIndex = children?.indexOf(selectedFromProps);\n      return toggleIsOpen(false);\n    }\n    if (e.code === 'ArrowDown') {\n      return toggleIsOpen(false);\n    }\n  }\n\n  const listVisibility = isOpen && !!refList?.getBoundingClientRect().height && !!ref?.getBoundingClientRect().height;\n  const Δy = ref?.getBoundingClientRect().y - refList?.getBoundingClientRect().y;\n\n  return html`  \n    <${StyledCenteredSelect} \n        tabIndex='0' \n        onKeyDown=${onKeyDown} \n        onMouseUp=${e=>{e.stopPropagation();return false}} \n        onTouchStart=${()=>toggleIsOpen(!isOpen)} \n        onMouseDown=${(e)=>{e.target.focus();toggleIsOpen(!isOpen)}}\n        ref=${centeredSelectRef}\n        className=${className}\n        >\n      ${selected.props.children}\n      <${StyledChevronUpDown} />\n      ${\n        isOpen ? html`\n          <${StyledListSelect} ref=${node=>{setRefList(node);return node;}} minWidth=${centeredSelectRef.current?.getBoundingClientRect().width} visibility=${listVisibility} top=${-Δy}>\n            ${\n              children.map(c => React.cloneElement(c,{\n                 ref: c === selected ? node => {children[0].props.ref?.(node);setRef(node)} : null,\n                 onClick: e => onSelect(e,c),\n                 onMouseDown: e=> onSelect(e,c),\n                 onTouchStart:  e=> onSelect(e,c),\n                 onMouseUp : c !== selected ?  e=> onSelect(e,c) :null,\n                 selected : c === selected,\n                ...c.props\n              },c.props.children))\n            }\n          </${StyledListSelect}> \n        `: null\n      }\n    </${StyledCenteredSelect}>\n  `\n}\n\n\nexport const StyledWindowDecoration = styled.div`\n  display: flex;\n  width: 100%;\n  background: black;\n  background: linear-gradient(to bottom, #595959 1%,#727272 3%,#474747 6%,#474747 12%,#111111 49%,#000000 92%,#000000 100%);\n  color: white;\n\n  ${StyledCenteredSelect}{\n    background: transparent;\n    width: max-content;\n    border: none;\n  }\n\n  ${StyledListSelect} {\n    color: black;\n    width: fit-content;\n    visibility: visible;\n  }\n`\nexport const StyledWindowDecorationLeft = styled.div`\n\n`\nexport const StyledWindowDecorationCenter = styled.div`\n  margin-left: auto;\n`\nexport const StyledWindowDecorationRight = styled.div`\n  margin-left: auto;\n  svg {\n    width: 16px;\n    padding: 4px;\n  }\n  svg  path {\n    filter: url(#inset-shadow);\n    stroke-width: 2px;\n  }\n  svg:hover{\n    filter: brightness(3);\n    cursor: pointer;\n  }\n\n`\n\nexport const StyledBlueMinimize = styled(FSF.ArrowMinimize)`\n    stroke: url(#rgrad);\n`\nexport const StyledBlueMaximize = styled(FSF.Maximize)`\n  stroke: url(#rgrad);\n`\n\nexport const StyledRedClose = styled(FSF.Dismiss)`\n  stroke: url(#lgrad);\n  path {\n    stroke-width: 9px !important;\n  }\n`\n\nexport const WindowDecoration = ({title, onClose, onMinimize, onMaximize, onExpand, representedFilename,documentEdited}) => {\n    return html`\n      <${StyledWindowDecoration}>\n        <${StyledWindowDecorationLeft}>\n        </${StyledWindowDecorationLeft}>\n        <${StyledWindowDecorationCenter}>\n          ${!representedFilename?.length ? title : null}\n          ${!!representedFilename?.length ? html`\n            <${CenteredSelect}>\n              ${representedFilename.map((path,idx)=> html`<div  value=${path} selected=${!!idx}>${path}</div>`)}\n            </${CenteredSelect}>\n          ` : null}\n        </${StyledWindowDecorationCenter}>\n        <${StyledWindowDecorationRight}>\n            <${StyledBlueMinimize}/>\n            <${StyledBlueMaximize}/>\n            <${StyledRedClose}/>\n        </${StyledWindowDecorationRight}>\n      </${StyledWindowDecoration}>\n    `\n}\n\nexport const StyledNoiseBackGround = styled.div`\n  background: black;\n`\n\n\nfunction SortableItem(props) {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n  } = useSortable({id: props.id});\n  \n  const style = {\n    transform: dndCSS.Transform.toString(transform),\n    transition,\n  };\n  \n\n  return (\n    <div ref={setNodeRef} style={style} {...attributes} {...listeners}>\n      {props.children}\n    </div>)\n  \n}\n\n\nexport const StyledToolBarContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  padding: 1px 0;\n  border-radius: 5px;\n  border-top: none;\n  `\n\nconst ChalkEffectSVGString = `\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"0\" height=\"0\" style=\"visibility: hidden;\">\n  <defs>\n    <radialGradient id=\"rgrad\" cx=\"50%\" cy=\"50%\" r=\"50%\">\n      <stop offset=\"0%\" style=\"stop-color:rgb(0,72,255);stop-opacity:1.00\"></stop>\n      <stop offset=\"100%\" style=\"stop-color:rgb(0,255,235);stop-opacity:1.00\"></stop>\n    </radialGradient>\n    <linearGradient id=\"lgrad\" x1=\"0%\" y1=\"50%\" x2=\"100%\" y2=\"50%\">\n      <stop offset=\"0%\" style=\"stop-color:rgb(244,0,255);stop-opacity:1.00\"></stop>\n      <stop offset=\"100%\" style=\"stop-color:rgb(255,0,0);stop-opacity:1.00\"></stop>\n    </linearGradient>\n    <filter id=\"chalk\" height=\"2\" width=\"1.6\" color-interpolation-filters=\"sRGB\" y=\"-0.5\" x=\"-0.3\">\n      <feTurbulence baseFrequency=\"50\" seed=\"115\" result=\"result1\" numOctaves=\"1\" type=\"turbulence\"/>\n      <feOffset result=\"result2\" dx=\"-5\" dy=\"-5\"/>\n      <feDisplacementMap scale=\"1.5\" yChannelSelector=\"G\" in2=\"result1\" xChannelSelector=\"R\" in=\"SourceGraphic\"/>\n      <feGaussianBlur stdDeviation=\"0.1\"/>\n    </filter>\n    <filter id=\"inset-shadow\">\n      <!-- Shadow offset -->\n      <feOffset dx=\"3\" dy=\"3\"></feOffset>\n      <!-- Shadow blur -->\n    <feGaussianBlur stdDeviation=\"4\" result=\"offset-blur\"></feGaussianBlur>\n      <!-- Invert drop shadow to make an inset shadow-->\n      <feComposite operator=\"out\" in=\"SourceGraphic\" in2=\"offset-blur\" result=\"inverse\"></feComposite>\n      <!-- Cut colour inside shadow -->\n      <feFlood flood-color=\"black\" flood-opacity=\"0.9\" result=\"color\" style=\"\"></feFlood>\n      <feComposite operator=\"in\" in=\"color\" in2=\"inverse\" result=\"shadow\"></feComposite>\n      <!-- Placing shadow over element -->\n      <feComposite operator=\"over\" in=\"shadow\" in2=\"SourceGraphic\"></feComposite> \n    </filter>\n    <filter id=\"mauve-border\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\" filterUnits=\"objectBoundingBox\" primitiveUnits=\"userSpaceOnUse\" color-interpolation-filters=\"linearRGB\">\n      <feMorphology operator=\"dilate\" radius=\"2 2\" in=\"SourceAlpha\" result=\"morphology\"></feMorphology>\n      <feFlood flood-color=\"#476dff\" flood-opacity=\"1\" result=\"flood\"></feFlood>\n      <feComposite in=\"flood\" in2=\"morphology\" operator=\"in\" result=\"composite\"></feComposite>\n      <feComposite in=\"composite\" in2=\"SourceAlpha\" operator=\"out\" result=\"composite1\"></feComposite>\n    </filter>\n  </defs>\n  <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"url(#lgrad)\"></rect>\n</svg>\n`\nconst ChalkEffectSVG = () => html`\n  <div dangerouslySetInnerHTML=${{__html: ChalkEffectSVGString}} ></div>\n`\n\nconst StyledChalkFilter = styled.div`\n  display: flex;\n  justify-content: center;\n  width: 100%;\n\n  * > svg {\n    width: 19px;\n  }\n\n * > svg > path {\n    filter: url(#inset-shadow);\n    fill: #eae7e3;\n    fill: url(#rgrad);\n  }\n\n  svg:hover {\n    cursor: pointer;\n  }\n  svg:hover > path {\n    filter: brightness(1.9);\n    transform: translateY(3px);  \n  }\n  \n`\n\nexport const StyledToolBarGroup = styled(StyledChalkFilter)`\n    width: fit-content;\n    border: 2px solid #858585;\n    border-radius: 7px;\n    margin-right: 53px;\n`\n\n\nfunction SortableToolBar({children}) {\n  \n  const [items, setItems] = useState(children.map((c,idx)=> ({...c, id:`id_${idx}`}) ));\n  const sensors = useSensors(\n    useSensor(PointerSensor),\n    useSensor(KeyboardSensor, {\n      coordinateGetter: sortableKeyboardCoordinates,\n    })\n  );\n\n  return (\n    <DndContext \n      sensors={sensors}\n      collisionDetection={closestCenter}\n      onDragEnd={handleDragEnd}\n      modifiers={[restrictToHorizontalAxis]}\n    >\n    <StyledToolBarContainer>\n      <StyledChalkFilter>\n        <SortableContext \n          Noitems={items}\n          items={items.map(item => item.id)}\n          strategy={horizontalListSortingStrategy}\n        >\n          {items.map((elem,idx) => <SortableItem key={elem.id} id={elem.id}>{elem}</SortableItem>)}\n        </SortableContext>\n      </StyledChalkFilter>\n    </StyledToolBarContainer>\n    </DndContext>\n  );\n  \n  function handleDragEnd(event) {\n    const {active, over} = event;\n    console.log(event)\n    if (active.id !== over.id) {\n      console.log(\"if\")\n      setItems((items) => {\n        const oldIndex = items.map((item) => item.id).indexOf(active.id);\n        const newIndex = items.map((item) => item.id).indexOf(over.id);\n        console.log({oldIndex,newIndex});\n        return arrayMove(items, oldIndex, newIndex);\n      });\n    }\n  }\n}\n\nfunction Window({width, height, x,y}) {\n  const {setNodeRef, listeners,transform} = useDraggable({id:1})\n  useDndMonitor({\n    onDragEnd:e=> console.log('drag end',e)\n  })\n  console.log(transform);\n  return (\n        <div ref={setNodeRef} style={{width, minHeight:height, position:\"absolute\", transform: dndCSS.Transform.toString(transform)}} {...listeners}>\n          <WindowDecoration title=\"Drag around\" NorepresentedFilename={['file.example','Folder','Documents']}/>\n\n        </div>\n    )\n}\n\nexport const Demo = () => html`\n      <${React.Fragment}>\n      <${TheHTML}/>\n      <${ControlBox}>\n        <p>Hello World!___</p>\n        <${StyledButton}>Click me!</${StyledButton}>\n        <!-- <${StyledButton}> <${ShareApple}/> </${StyledButton}> -->\n        <br/>\n        <br/>\n        <br/>\n        <${DropDownMenu} direction='horizontal' multipleOpen=${false} zIndex=${1}>\n          <${MenuItem}   name=${html`<span> File</span>`}> \n            <${MenuItem} name=\"Open\" />\n            <${MenuItem} name=\"New\" />\n          </${MenuItem}/>\n\n          <${MenuItem} name='Edit'> \n            <${MenuItem} name=\"Undo\" onAction=${(a)=>console.log('shortcut_',a)} shortCut=${'ctrl+z'}/>\n            <${MenuItem} name=\"Redo\" />\n            <${MenuItem} name=\"Copy\" />\n            <${MenuItem} name=\"Past\" />\n            <${MenuItem} name=\"Truc\" shortCut=\"ctrl+truc\" />\n            <${MenuItem} name=\"Sub menu\" ref=${(node)=>console.log('1st node',node)}> \n              <${MenuItem} name=\"Sub item A\">\n                <${MenuItem} name=\"Copy\" onAction=${()=>console.log('sub copy')} />\n                <${MenuItem} name=\"Past\" />\n                <${MenuItem} name=\"mais encore\">\n                  <${MenuItem} name=\"Past\" />\n                  <${MenuItem} name=\"Copy\" />\n                </>\n              </${MenuItem}>\n              <${MenuItem} name=\"Sub item B\"/>\n            </${MenuItem}>\n            <${MenuItem} name=\"Sub Next\"> \n              <${MenuItem} name=\"TRUC\" onAction=${()=>alert('Truc')}/>\n              <${MenuItem} name=\"OPOPO\"/>\n            </${MenuItem}>\n          </${MenuItem}>\n\n          <${MenuItem} name='Show'> \n            <${MenuItem} name=\"By List\" />\n            <${MenuItem} name=\"By Grid\" />\n          </${MenuItem}>\n\n          <${MenuItem} name='help'>\n            <${SearchMenu} isExtension/>\n          </${MenuItem}>\n\n        </${DropDownMenu}>\n        <br/>\n        <br/>\n\n        <${CenteredSelect}>\n          <div value=\"ex 1\" >ex1</div>\n          <div value=\"ex 2\" >ex2</div>\n          <div value=\"ex 3\" selected>ex3</div>\n          <div value=\"ex 4\" >ex4</div>\n          <div value=\"ex 5\" >ex5</div>\n          <div value=\"ex 6\" >ex6</div>\n        </${CenteredSelect}>\n        <br/>\n        <br/>\n\n        <${WindowDecoration} title=\"App example\" representedFilename=${['file.example','Folder','Documents']}/>\n        <${StyledNoiseBackGround}>\n          <${SortableToolBar}>\n            <${ChalkEffectSVG}/>\n            <${StyledToolBarGroup}>\n            <${FSF.ArrowAutofitUp}/>\n                <${FSF.ArrowCurveUpLeft}/>\n                <${FSF.ArrowUp}/>\n                <${FSF.ArrowDown}/>\n                <${FSF.PositionToFront}/>\n              </${StyledToolBarGroup}>\n              <${FSF.PanelLeft}/>\n              <${FSF.SelectObject}/>\n              <${SaveAs}/>\n              <${FSF.PanelBottom}/>\n              <${FSF.MultiselectLtr}/>\n              <${FSF.CopySelect}/>\n              <${FSF.SelectAllOn}/>\n              <${FSF.ArrowSquareDown}/>\n              <${FSF.AddSquare}/>\n              <${FSF.TextBold}/>\n              <${FSF.TextItalic}/>\n              <${FSF.TextUnderline}/>\n              <${FSF.ImageAdd}/>\n              <${FSF.ImageAltText}/>\n              <${CenteredSelect}>\n              <div value=\"ex 1\">font 1</div>\n              <div value=\"ex 4\" >ex4</div>\n              </${CenteredSelect}>\n          </${SortableToolBar}>\n        </${StyledNoiseBackGround}>\n\n        <${DndContext}>\n          <${Window} height=\"200px\" width=\"200px\">\n          </${Window}>  \n        </${DndContext}>\n      </${ControlBox}>\n      <//>\n      `;\n\n// render(createElement(Demo), document.getElementById('demo'));\n"],"names":["htm","bind","createElement","css","TheHTML","createGlobalStyle","ControlBox","styled","div","withConfig","displayName","componentId","buttonColor","StyledButton","button","directionToFlex","direction","horizontal","vertical","StyledDopDownMenu","FloatTo","children","props","setProps","useState","visibility","ref","setRef","ClonedTo","React","cloneElement","node","CloneFloating","useEffect","top","bottom","height","left","right","width","getBoundingClientRect","StyledDopDownMenuPanel","isTopLevel","DropDownMenu","forwardRef","multiOpen","focusFromUpper","allTopChildren","subSetmouseIsOn","UppercloseAll","UpperRef","forRef","mouseIsOn","setmouseIsOn","openItem","setOpenItem","flashPath","setFlashPath","dropDownRef","useRef","deepRef","hasFocus","setHasFocus","closeAll","length","current","focus","useOnclickOutside","disabled","refs","onHeaderItemClick","e","Item","idx","preventDefault","stopPropagation","includes","onMouseUpItem","onAction","nextIdx","arr","prevIdx","ChildWithCallback","childs","Children","toArray","map","c","ClonedItem","onMouseDown","onTouchStart","window","onMouseUp","onMouseOver","onTouchMove","touches","clientX","clientY","document","elementFromPoint","dispatchEvent","Event","bubbles","onTouchMoveItem","onTouchEnd","target","changedTouches","newTarget","onTouchEndItem","isOpen","hasSubMenu","DropDownMenuHtml","$a4HJP$react","UpperSetHasFocus","customDropDownMenu","isExtension","ExtendDropDown","onKeyDown","console","log","key","blur","onFocus","tabIndex","StyledMenuItem","MenuItem","name","shortCut","reref","$39ca955b446decd2$var$_extends","replaceAll","ArrowDropRight","size","SearchMenu","forwardedRef","searchTerm","setSearchTerm","extractPropsChildrenAllLevel","Array","from","Fla","array","path","child","idx_","flat","Infinity","filter","toUpperCase","unshift","style","minWidth","margin","borderRadius","onmousedown","NoOnKeyDown","onChange","value","type","autofocus","StyledCenteredSelect","StyledListSelect","StyledChevronUpDown","ChevronUpDown","CenteredSelect","className","centeredSelectRef","refList","setRefList","toggleIsOpen","selectedFromProps","selected","setSelected","onSelect","OptionComp","listVisibility","Δy","y","code","indexOf","onClick","StyledWindowDecoration","StyledWindowDecorationLeft","StyledWindowDecorationCenter","StyledWindowDecorationRight","StyledBlueMinimize","FSF","StyledBlueMaximize","StyledRedClose","WindowDecoration","title","onClose","onMinimize","onMaximize","onExpand","representedFilename","documentEdited","StyledNoiseBackGround","SortableItem","attributes","listeners","setNodeRef","transform","transition","useSortable","id","dndCSS","Transform","toString","$a4HJP$jsx","StyledToolBarContainer","ChalkEffectSVG","dangerouslySetInnerHTML","__html","StyledChalkFilter","StyledToolBarGroup","SortableToolBar","items","setItems","sensors","useSensors","useSensor","PointerSensor","KeyboardSensor","coordinateGetter","sortableKeyboardCoordinates","$a4HJP$DndContext","collisionDetection","closestCenter","onDragEnd","event","active","over","oldIndex","item","newIndex","arrayMove","modifiers","restrictToHorizontalAxis","$39ca955b446decd2$export$a70cad76d0b07bed","$39ca955b446decd2$var$StyledChalkFilter","$a4HJP$SortableContext","Noitems","strategy","horizontalListSortingStrategy","elem","$39ca955b446decd2$var$SortableItem","Window","x","useDraggable","useDndMonitor","minHeight","position","$39ca955b446decd2$export$1e57c904ebe23308","NorepresentedFilename","Demo","Fragment","multipleOpen","zIndex","a","alert","SaveAs","DndContext"],"version":3,"file":"demo.esm.js.map"}